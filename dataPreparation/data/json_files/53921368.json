{"tags": ["javascript", "c#", "json", "asp.net-mvc", "asp.net-web-api"], "comments": [{"score": 0, "creation_date": 1545733208, "post_id": 53921368, "comment_id": 94684750, "body": "Try doing <code>var param =  &#39;@Html.Raw(ViewBag.param)&#39;</code>"}, {"score": 1, "creation_date": 1545733683, "post_id": 53921368, "comment_id": 94684845, "body": "Can you give me the output of <code>console.log(param);</code> after <code>var param =  @ViewBag.param;</code>? Just add the code and tell the result."}, {"score": 0, "creation_date": 1545733935, "post_id": 53921368, "comment_id": 94684895, "body": "@adiga can you add it as answer so that i can accept"}, {"score": 0, "creation_date": 1545733975, "post_id": 53921368, "comment_id": 94684902, "body": "@holydragon ..I got solution thanks"}], "answers": [{"comments": [{"score": 0, "creation_date": 1545733432, "post_id": 53921398, "comment_id": 94684802, "body": "@Sreenath Ganga then remove the quotes alltogether"}, {"score": 0, "creation_date": 1545733906, "post_id": 53921398, "comment_id": 94684890, "body": "No xavier ajax cant recognise that format as string.any ways i got solution from @aldiga"}], "score": -3, "last_activity_date": 1545733127, "answer_id": 53921398, "question_id": 53921368, "body": "<p>You have quotes inside quotes:</p>\n\n<pre><code>\",Exam:\\\"First Term\\\"}\"\n</code></pre>\n\n<p>Change your inside quotes like this:</p>\n\n<pre><code>\",Exam:\\'First Term\\'}\"\n</code></pre>\n"}, {"comments": [{"score": 1, "creation_date": 1545734842, "post_id": 53921561, "comment_id": 94685100, "body": "I&#39;m pretty sure those single quotes aren&#39;t needed."}], "score": 1, "last_activity_date": 1545735365, "last_edit_date": 1545735365, "answer_id": 53921561, "question_id": 53921368, "body": "<p>You need to change your js code to:</p>\n\n<pre><code>var param = @Html.Raw(ViewBag.param)\n</code></pre>\n\n<p>By default, Razor engine will encode everything. So, you need to use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.mvc.htmlhelper.raw?view=aspnet-mvc-5.2\" rel=\"nofollow noreferrer\"><code>@Html.Raw()</code></a> which returns markup that is not HTML encoded.</p>\n"}], "is_answered": true, "answer_count": 2, "score": 1, "last_activity_date": 1545735365, "creation_date": 1545732829, "question_id": 53921368, "title": "Stops encoding of &#39;&#39; to Quotes in Javascript", "body": "<p>I have a WebApi which require a string parameter.I send the Api Url and parameters to the views as viewbag from action so that I  can reuse the view for multiple WebApis</p>\n\n<p>My controllerAction   </p>\n\n<pre><code>  public ActionResult PreviousQuestions(String exam = \"\", int Number = 0)\n            {          \n                ViewBag.uri = \"/api/pmp/GetNumberofQuestionByExam\";\n                ViewBag.param = \"{ Number:  \" + Number + \",Exam:\\\"First Term\\\"}\";\n                return View();\n            }\n</code></pre>\n\n<p>My javascript inside view</p>\n\n<pre><code> $(document).ready(function () {\n        var uri ='@ViewBag.uri'; //Problem is here\n        var param =  @ViewBag.param;\n        $.ajax({\n        url: uri,\n        type: 'GET',\n        data: param,\n        dataType: 'json',\n        success: function (data, textStatus, xhr) {\n\n        }\n    });\n</code></pre>\n\n<p>Web Api </p>\n\n<pre><code>  public List&lt;QuestionViewModel&gt; GetPreviousQuestion(int Number, string Exam = \"\")\n    {\n    }\n</code></pre>\n\n<p>My problem is my Parameters get converted to </p>\n\n<pre><code> var param =  { Number:  5,Exam:&amp;quot;First Term&amp;quot;};\n</code></pre>\n\n<p>which throws error.I know its silly and I am missing something or something like Creating json inside Action ..can someone suggest</p>\n\n<pre><code>JSON.parse(data.replace(/&amp;quot;/g,'\"'));\n</code></pre>\n\n<p>willnot work </p>\n"}