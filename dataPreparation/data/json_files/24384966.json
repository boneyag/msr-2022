{"tags": ["javascript", "php", "regex"], "comments": [{"score": 0, "creation_date": 1403609057, "post_id": 24384966, "comment_id": 37714390, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/17427603/regex-to-find-domain-name-without-www\">Regex to find domain name without www</a>"}, {"score": 0, "creation_date": 1403801253, "post_id": 24384966, "comment_id": 37808885, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2122292/use-php-to-trim-url-to-just-domain-name-by-removing-protocol-and-path\">Use php to trim URL to just domain name by removing protocol and path</a>"}], "answers": [{"comments": [{"score": 0, "creation_date": 1403612518, "post_id": 24385747, "comment_id": 37716643, "body": "thankyou. i test your code. its works but i need regex for get domain name."}], "score": 0, "last_activity_date": 1403610635, "last_edit_date": 1403610635, "answer_id": 24385747, "question_id": 24384966, "body": "<p>A way without regex:</p>\n\n<pre><code>$urls = array('http://domainname.com',\n              'http://domainname.com/whatever/you/get/the/idea',\n              'http://www.domainname.com/whatever/you/get/the/idea',\n              'http://www.domainname.com',\n              'https://s1.s2.domainname.com/321.com/www.654.vom/',\n              'https://s1.domainname.com',\n              'https://s1.domainname.com/domain1.com/',\n              'https://domain1.com.domainname.com');\n\n$domains = array_map(function ($url) {\n    $chunks = explode('.', parse_url($url,PHP_URL_HOST));\n    $first_level_dn = array_pop($chunks);\n    return array_pop($chunks) . '.' . $first_level_dn;\n}, $urls);\n\nprint_r($domains);\n</code></pre>\n"}, {"score": 1, "last_activity_date": 1403610617, "answer_id": 24385894, "question_id": 24384966, "body": "<p>JS, using the modern <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URL\" rel=\"nofollow\">URL API</a>:</p>\n\n<pre><code>   u = 'https://s1.s2.domainname.com/321.com/www.654.vom/'\n   host = new URL(u).host.split('.').slice(-2).join('.')\n</code></pre>\n\n<p>An old-style regex way</p>\n\n<pre><code>   host = u.match(/^\\w+:\\/\\/.*?(\\w+\\.\\w+)(\\/|$)/)[1]\n</code></pre>\n"}], "is_answered": true, "answer_count": 2, "score": -2, "last_activity_date": 1463027069, "creation_date": 1403607831, "question_id": 24384966, "title": "Get Domain Name with suffix (Only Domain) (Regex PHP)", "body": "<p>Get Domain Name with suffix (Only Domain)</p>\n\n<p>I need regex in PHP or JavaScript to resolve domains.</p>\n\n<p><strong>any suffix (com,org,net,us,ar,....) And any Protocol (http,https,ftp,...)</strong></p>\n\n<p>Example:</p>\n\n<pre><code>array(\n  , 'http://domainname.com'\n  , 'http://domainname.com/whatever/you/get/the/idea'\n  , 'http://www.domainname.com/whatever/you/get/the/idea'\n  , 'http://www.domainname.com'\n  , 'https://s1.s2.domainname.com/321.com/www.654.vom/'\n  , 'https://s1.domainname.com'\n  , 'https://s1.domainname.com/domain1.com/'\n  , 'https://domain1.com.domainname.com'\n  , 's1.s2.domainname.com/321.com/www.654.vom/'\n  , 's1.domainname.com'\n  , 's1.domainname.com/domain1.com/'\n  , 'domain1.com.domainname.com'\n);\n</code></pre>\n\n<p>Result:\nfor all Result is <strong>domainname.com</strong></p>\n"}