{"tags": ["c#", "json"], "comments": [{"score": 0, "creation_date": 1585992516, "post_id": 61026077, "comment_id": 107964091, "body": "just to be clear, you want to find an object where serviceid==System-016 ?"}, {"score": 0, "creation_date": 1585992518, "post_id": 61026077, "comment_id": 107964093, "body": "Please edit a small example of JSON into your question. The information to solve your problem must be part of the question. Can you also show what you have tried so far? Unless you specifically want a JSON-focused solution, the JSON may be irrelevant if you just want a recursive search of the object above."}, {"score": 0, "creation_date": 1585992550, "post_id": 61026077, "comment_id": 107964099, "body": "&quot;System-016&quot; I couldn&#39;t find it in your json"}, {"score": 1, "creation_date": 1585992615, "post_id": 61026077, "comment_id": 107964117, "body": "@T\u1ea5nNguy&#234;n I&#39;m not sure that&#39;s important. I think you can generalise to &quot;serviceId={searchTerm}&quot;"}, {"score": 0, "creation_date": 1585993041, "post_id": 61026077, "comment_id": 107964248, "body": "@John Yes I just want to sure that his question is: finding an object with provided serviceId, or he couldn&#39;t get the the specific object in json when serializing."}, {"score": 0, "creation_date": 1586263037, "post_id": 61026077, "comment_id": 108059025, "body": "@Alvin Wu, did my answer below help?"}], "answers": [{"comments": [{"score": 0, "creation_date": 1585993001, "post_id": 61026182, "comment_id": 107964229, "body": "I think you&#39;ve misunderstood the question. Your answer seems to assume a <code>List&lt;SiteNode&gt; SiteNode</code> variable, and only searches that object for results, but doesn&#39;t search any of the child nodes, or child child nodes, etc."}, {"score": 0, "creation_date": 1585993191, "post_id": 61026182, "comment_id": 107964300, "body": "You need to check the JSON in more detail.  The applicable entry with the right service ID is further down in the tree."}], "score": -3, "last_activity_date": 1585992949, "last_edit_date": 1585992949, "answer_id": 61026182, "question_id": 61026077, "body": "<p>If I understand you correctly, you would like to query the object from the list? After you have deseriliazed from Json. </p>\n\n<pre><code>var yourObject = SiteNode.Where(s =&gt; s.serviceId == \"System-16\").firstOrDefault()\n</code></pre>\n"}, {"score": 3, "last_activity_date": 1586080328, "last_edit_date": 1586080328, "answer_id": 61026191, "question_id": 61026077, "body": "<p>You could use a method that iterates through all nodes in the tree, for example:</p>\n\n<pre><code>public static IEnumerable&lt;T&gt; Flatten&lt;T&gt;(T node, Func&lt;T, IEnumerable&lt;T&gt;&gt; childSelector)\n{\n    yield return node;\n\n    var children = childSelector(node);\n\n    if (children == null)\n    {\n        yield break;\n    }\n\n    foreach (var child in children)\n    {\n        foreach (var grandChild in Flatten(child, childSelector))\n        {\n            yield return grandChild;\n        }\n    }\n}\n</code></pre>\n\n<p>Then use it to flatten out your tree structure before filtering the whole set or finding a specific node, for example:</p>\n\n<pre><code>var rootNode = JavaScriptSerializer.Deserialize&lt;SiteNode&gt;(json);\nvar filteredNodes = Flatten(rootNode, n =&gt; n.children)\n    .Where(n =&gt; n.serviceid== \"System-016\");\n</code></pre>\n"}], "is_answered": true, "answer_count": 2, "score": 2, "last_activity_date": 1586080328, "creation_date": 1585992207, "question_id": 61026077, "title": "How to recursively parse json and find a specific object?", "body": "<p>This is my JSON file <a href=\"https://next.json-generator.com/VJ5kZBA8O\" rel=\"nofollow noreferrer\">click me</a> !</p>\n\n<p>Following,C# classes from JSON</p>\n\n<pre><code>public class SiteNode\n{\n    public string url;\n    public string[] param;\n    public string serviceid;\n    public bool is_enabled;\n    public string icon;\n    public string nodetype;\n    public string api;\n    public NodeMeta meta;\n    public class NodeMeta\n    {\n        public bool is_module_legal;\n        public string module;\n        public string func;\n        public MuiText title;\n        public MuiText desc;\n        public string group;\n        public List&lt;string&gt; granted_roles;\n    }\n    public class MuiText\n    {\n        public string tw;\n        public string gb;\n        public string en;\n    }\n    public List&lt;SiteNode&gt; children;\n}\n</code></pre>\n\n<p>I have already use the JavaScriptSerializer.Deserialize method to convert to List ,But I have no idea to find <strong>serviceid==System-016</strong> this object.</p>\n\n<p>Special attention to the object in Json file can be changed location,So I think to use recursive to process this problem.</p>\n\n<p>Please, provide me a solution,Thanks a lot!</p>\n"}