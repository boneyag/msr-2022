{"tags": ["django"], "answers": [{"comments": [{"score": 0, "creation_date": 1530281074, "post_id": 17025885, "comment_id": 89194390, "body": "One way is to compare the name. You can&#39;t compare two functions like this (<code>view_func == dashboard</code>) in python. <a href=\"https://stackoverflow.com/questions/33883671/how-to-test-if-two-functions-are-the-same\" title=\"how to test if two functions are the same\">stackoverflow.com/questions/33883671/&hellip;</a>"}, {"score": 0, "creation_date": 1603558222, "post_id": 17025885, "comment_id": 114078045, "body": "Just <code>view_func is dashboard</code> should be enough."}], "score": 2, "last_activity_date": 1530280992, "last_edit_date": 1530280992, "answer_id": 17025885, "question_id": 17025677, "body": "<p>From the <a href=\"https://docs.djangoproject.com/en/dev/topics/http/middleware/#process-view\" rel=\"nofollow noreferrer\">middleware documentation</a>:</p>\n\n<blockquote>\n  <p>process_view(self, request, view_func, view_args,\n  view_kwargs) request is an HttpRequest object. view_func is the Python\n  function that Django is about to use. (It\u2019s the actual function\n  object, not the name of the function as a string.)</p>\n</blockquote>\n\n<p>So you need to do something like:</p>\n\n<pre><code>from login import dashboard\n\n\nif view_func.__name__ == dashboard.__name__:\n    pass\n</code></pre>\n"}, {"score": 0, "last_activity_date": 1628331301, "answer_id": 68691410, "question_id": 17025677, "body": "<p>To answer the question:</p>\n<blockquote>\n<p>I can see the 'view' argument but don't know how to I use it?</p>\n</blockquote>\n<p>Then you are not using the power and beauty of python.</p>\n<p>try this this:</p>\n<pre><code>breakpoint()\nif view == &quot;login.dashboard:\n   pass\n</code></pre>\n<p>This will pause execution, and allow you to interact with python, at that point in code.</p>\n<p>Once it pauses execution, the first I do is type <code>list&lt;ENTER&gt;</code> to list the code around where it stopped, just to orientate oneself.</p>\n<p>Wish to see what type of object <code>view</code> is? Type <code>type(view)</code>, and now you know!</p>\n<p>Want to know what methods and attributes it has, <code>dir(view)</code>, and now you know. Or <code>pp dir(view)</code> to pretty print it.</p>\n<p>Oh it has a <code>foo_very_interesting_method</code>, try:</p>\n<pre><code>solong = view.foo_very_interesting_method\nhelp(solong)\n</code></pre>\n<p>If you lucky it will print some helpful info.</p>\n<p>Want to see the value of view.bar_attribute, type <code>view.bar_attrbiute</code>, and its printed for you.</p>\n<p>When done playing type <code>c</code> to continue, <code>q</code> to quit, <code>n</code> to goto the next line, or <code>s</code> to step.</p>\n<p>And theres a whole lot more if you research <code>python debugger</code>.</p>\n<p>Enjoy being able to figure out what is going on!</p>\n"}], "is_answered": true, "answer_count": 2, "score": 3, "last_activity_date": 1628331301, "creation_date": 1370872786, "question_id": 17025677, "title": "Django middleware and getting the view name?", "body": "<p>I'm trying to write my first middleware in Django.</p>\n\n<pre><code>class RefreshBalance:\n\n    def process_view(self, request, view_func, view_args, view_kwargs):\n        pass\n</code></pre>\n\n<p>I want to detect if a view is called and refresh a balance. I can see the 'view' argument but don't know how to I use it? For example:</p>\n\n<pre><code>if view == \"login.dashboard:\n   pass\n</code></pre>\n\n<p>How can I find out what view is being called?</p>\n"}