{"tags": ["c++", "regex"], "comments": [{"post_id": 68716285, "comment_id": 121440457, "body": "For the first question, try <code>\\\\b(r)(\\S*)\\S</code>. As to the second question, it depends on what you consider a &quot;word starting with %&quot;."}, {"post_id": 68716285, "comment_id": 121440546, "body": "@41686d6564 any word starting with the character  % like %r34 or %r33. the  \\\\b(r)(\\S*)\\S doesn&#39;t find any matches :("}, {"post_id": 68716285, "comment_id": 121440672, "body": "Sorry, I forgot to escape <code>\\S</code>. It should be <code>\\\\b(r)(\\\\S*)\\\\S</code>. Note, however, that this will remove the comma after &quot;33&quot;. Depending on your requirements, you might want to exclude commas as well: <code>\\\\b(r)([^\\\\s,]*)[^\\\\s,]</code>. Or if &quot;r&quot; is always followed by digits, you could just use <code>\\\\b(r)(\\\\d*)\\\\d</code>."}, {"post_id": 68716285, "comment_id": 121440709, "body": "About your second question: Again, what <i>exactly</i> do you consider a word? Does the &#39;%&#39; character have to be either at the beginning of the string or preceded by a whitespace exclusively?"}, {"post_id": 68716285, "comment_id": 121440714, "body": "thanks, exactly what I wanted for the first question :)..regarding the % has to be at the beginning of the string not necessarly preceded by a space"}, {"post_id": 68716285, "comment_id": 121440822, "body": "You probably want to use <code>(^|\\\\s)%r(\\\\d*)\\\\d</code>, and substitute with <code>$1%r$2</code>."}, {"post_id": 68716285, "comment_id": 121441239, "body": "I&#39;ve summarized the comments into an answer with online demos."}, {"post_id": 68716285, "comment_id": 121442722, "body": "perfect :) ...thanks alot"}], "answers": [{"answer_id": 68716682, "question_id": 68716285, "body": "<p>To remove the second last digit after 'r', you may use:</p>\n<pre><code>\\\\b(r)(\\\\d*)\\\\d\n</code></pre>\n<p>...and substitute with:</p>\n<pre><code>r$2\n</code></pre>\n<p><a href=\"https://regex101.com/r/GQBYBD/1\" rel=\"nofollow noreferrer\">Regex demo</a> - <a href=\"https://rextester.com/UPLK55269\" rel=\"nofollow noreferrer\">C++ demo</a></p>\n<p>If the chars that follow 'r' are not necessarily digits but you want to exclude the comma, you may use the following instead:</p>\n<pre><code>\\\\b(r)([^\\\\s,]*)[^\\\\s,]\n</code></pre>\n<p>To match only if 'r' is preceded by '%', use:</p>\n<pre><code>(^|\\\\s)%r(\\\\d*)\\\\d\n</code></pre>\n<p>And substitute with:</p>\n<pre><code>$1%r$2\n</code></pre>\n<p><a href=\"https://regex101.com/r/91bCfT/1\" rel=\"nofollow noreferrer\">Regex demo</a> - <a href=\"https://rextester.com/LQZFJO14819\" rel=\"nofollow noreferrer\">C++ demo</a></p>\n"}], "is_answered": true, "answer_count": 1, "last_activity_date": 1628549267, "question_id": 68716285, "title": "Take substring from a regex capture group", "body": "<p>I have this piece of C++ code:</p>\n<pre><code>std::string s (&quot;%r34 = add i32 %r33, 1\\n&quot;);\nstd::regex e (&quot;\\\\b(r)([^ ]*)&quot;);   // matches words beginning by &quot;r&quot;\nstd::cout &lt;&lt; std::regex_replace (s,e,&quot;r$2&quot;);\n</code></pre>\n<p>The output I get is:</p>\n<pre><code>%r34 = add i32 %r33, 1\n</code></pre>\n<p>My first question is there a way to remove the last character in the capture group <code>$2</code> to get the desired output of:</p>\n<pre><code>%r3 = add i32 %r3, 1\n</code></pre>\n<p>Second question: how can I find words starting with &quot;%&quot; instead of &quot;r&quot; as the following line doesn't work while still using the same logic as before:</p>\n<pre><code>std::regex e (&quot;\\\\b(%)([^ ]*)&quot;);   // matches words beginning by &quot;%&quot;\n</code></pre>\n"}