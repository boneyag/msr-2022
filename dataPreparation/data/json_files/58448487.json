{"tags": ["javascript", "json"], "comments": [{"score": 0, "creation_date": 1571392914, "post_id": 58448487, "comment_id": 103234895, "body": "If possible, the server should be changed to <i>always</i> return an array. Having inconsistent return types is\u2026 bad."}], "answers": [{"score": 0, "last_activity_date": 1571393810, "answer_id": 58448774, "question_id": 58448487, "body": "<p>Try this.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let ErrorFuncional = {\r\n  \"CodigoError\": \"1020\",\r\n  \"MotivoError\": \"xxxx\",\r\n  \"PosicionError\": \"xxxx\",\r\n  \"ValorOriginal\": \"33333\"\r\n};\r\n    \r\nfunction convertToArray(array)  {\r\n  if (Array.isArray(array) === false) {\r\n\t  return {ErrorFuncional: [array]};\r\n\t} else {\r\n    return {ErrorFuncional: array};\r\n  }\r\n}\r\n    \r\nconsole.log(convertToArray(ErrorFuncional))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "is_answered": false, "answer_count": 1, "score": 0, "last_activity_date": 1571393810, "creation_date": 1571392818, "question_id": 58448487, "title": "Javascript - Parse one JSON error and error array in the same variable?", "body": "<p>I'm getting from my server a JSON with a list of errors. When there is more than one I receive the following:</p>\n\n<pre><code>{\n    \"ErrorFuncional\": [\n        {\n            \"CodigoError\": \"1020\",\n            \"MotivoError\": \"xxxx\",\n            \"PosicionError\": \"xxxx\",\n            \"ValorOriginal\": \"33333\"\n        },\n        {\n            \"CodigoError\": \"103\",\n            \"MotivoError\": \"xxxx\",\n            \"PosicionError\": \"xxxx\",\n            \"ValorOriginal\": \"111\"\n        },\n        {\n            \"CodigoError\": \"110901\",\n            \"MotivoError\": \"xxxx\",\n            \"PosicionError\": \"xxxx\",\n            \"ValorOriginal\": \"222\"\n        }\n    ]\n}\n</code></pre>\n\n<p>But when there is only one error I get this:</p>\n\n<pre><code>{\n    \"ErrorFuncional\":\n        {\n            \"CodigoError\": \"1020\",\n            \"MotivoError\": \"xxxx\",\n            \"PosicionError\": \"xxxx\",\n            \"ValorOriginal\": \"33333\"\n        }\n}\n</code></pre>\n\n<p>I declared the errors variable as an array of errors so when I try to parse <strong>one</strong> error I get an exception.</p>\n\n<blockquote>\n  <p>Is it possible to convert the error into an array of one element before parsing it to JSON? Otherwise how can I handle this situation?</p>\n</blockquote>\n\n<p>Thanks!</p>\n"}