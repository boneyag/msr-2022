{"tags": ["python", "sql", "sql-server", "django"], "comments": [{"post_id": 60364005, "comment_id": 106781581, "body": "<i>&quot;SQL Server v15 is not supported.&quot;</i> Is pretty explicit here. You either need a version of Django that does support it, or an older version of SQL Server."}, {"post_id": 60364005, "comment_id": 106781615, "body": "According to <a href=\"https://www.djangoproject.com/weblog/2019/dec/02/django-3-released/\" rel=\"nofollow noreferrer\">Django&#39;s website</a>, 2.1 is completely unsupported and 2.2 is out of mainstream support. Looks like 3.0 came out end of last year."}], "answers": [{"answer_id": 60697994, "question_id": 60364005, "body": "<p>I just create an account to answer thi question. I lost a lot of time until can fix that. </p>\n\n<p>To work with SQL Server 2019 i nedded to update the Django to actual version, 3.x and installed django-mssql-backend, django-pyodbc, pyodbc</p>\n\n<p>In youd DATABASE definitions, add this line to work:</p>\n\n<p>'OPTIONS': {\n            'driver': 'ODBC Driver 17 for SQL Server',\n        },</p>\n"}, {"answer_id": 63972370, "question_id": 60364005, "body": "<p>Resolved. Thanks to another forum</p>\n<p>Installed 2019 version: Django backend for Microsoft SQL Server and Azure SQL Database using pyodbc, compatible with SQL Server 2019</p>\n<pre><code>pip install django-pyodbc-azure-2019\n</code></pre>\n<p>System check identified no issues (0 silenced).\nSeptember 19, 2020 - 18:52:09\nDjango version 2.1.15, using settings 'mdm.settings'\nStarting development server at <a href=\"http://127.0.0.1:8000/\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000/</a>\nQuit the server with CONTROL-C.</p>\n<p>I'll create a new venv and share the procedure since the current one is a mess right now:</p>\n<pre><code>(venvAzure) luca@webserver:~/app/MDM_SQLServer$ pip freeze\ncertifi==2020.6.20\ncffi==1.14.2\nchardet==3.0.4\ncryptography==3.1\nDjango==2.1.15\ndjango-azure-sql-backend==2.1.1.1\ndjango-mssql-backend==2.8.1\ndjango-pyodbc==1.1.3\ndjango-pyodbc-azure-2019==2.1.0.0\nidna==2.10\nmsal==1.5.0\npycparser==2.20\nPyJWT==1.7.1\npyodbc==4.0.30\npytz==2020.1\nrequests==2.24.0\nsix==1.15.0\nurllib3==1.25.10\n</code></pre>\n<p>Thanks</p>\n"}, {"answer_id": 68634637, "question_id": 60364005, "body": "<p>To install specifically:</p>\n<pre><code> pip install Django==2.1.15\n   \n pip install django-pyodbc-azure-2019==2.1.0.1\n</code></pre>\n<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'sql_server.pyodbc',\n        'NAME': 'dtabase_name',\n        'USER': 'sa',\n        'PASSWORD': '123456',\n        'HOST': 'Your_host',\n        'PORT': '',\n\n        'OPTIONS': {\n            'driver': 'ODBC Driver 17 for SQL Server',\n        },\n    },\n}\n</code></pre>\n"}], "is_answered": true, "answer_count": 3, "last_activity_date": 1628054468, "question_id": 60364005, "title": "Django Cannot Connect to SQL Server 2019", "body": "<p>I have a Django Project and want to connect to SQL Server 2019. But I have a problem when doing migration. Here is the error message:</p>\n\n<blockquote>\n  <p>django.db.utils.NotSupportedError: SQL Server v15 is not supported.</p>\n</blockquote>\n\n<p>I'm using <code>Django 2.1.15</code> and <code>SQL Server Microsoft SQL Server 2019 (RTM) - 15.0.2000.5</code> </p>\n\n<p>Does it mean this Django version cannot using SQL Server 2019?</p>\n"}