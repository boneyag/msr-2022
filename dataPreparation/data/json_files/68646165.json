{"tags": ["python", "django", "azure", "azure-active-directory"], "answers": [{"answer_id": 68726075, "question_id": 68646165, "body": "<p>You can use <strong>Microsoft Graph API</strong> to call the user and get the employeeID. And for that to call from your Django app you have to use ADAL library.</p>\n<p><strong>Code:</strong></p>\n<pre><code>import adal,requests\n\nurl = 'https://login.microsoftonline.com/yourtenant.onmicrosoft.com/oauth2/v2.0/token'\ndata = {\n    'grant_type': 'client_credentials',\n    'client_id': &quot;your_client_id&quot;,\n    'scope': 'https://graph.microsoft.com/.default',\n    'client_secret': &quot;your_client_secret&quot;\n}\nr = requests.post(url, data=data)\ntoken = r.json().get('access_token')\n\nurl = \u2019https://graph.microsoft.com/v1.0//users?&amp;$select=displayName,jobTitle,employeeID\u2019\nheaders = {\n    'Content-Type' : 'application\\json',\n    'Authorization': 'Bearer {}'.format(token)\n    \u2018ConsistencyLevel\u2019 : \u2019eventual\u2019\n}\nr = requests.get(url, headers=headers)\nresult = r.json()\nprint(result)\n</code></pre>\n<p>I have tested the URL using Graph explorer and its working .</p>\n<pre><code>https://graph.microsoft.com/v1.0//users?&amp;$select=displayName,jobTitle,employeeID\n</code></pre>\n<p>The above Url will provide all the users present in your AAD and select only display name , jobtitle and employeeID and display it .</p>\n<p><a href=\"https://i.stack.imgur.com/7Vpzv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Vpzv.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note :</strong> After you have registered the app in Azure AD then in API permission, make sure the app has User.Readall permission set to get the details.</p>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/51859504/how-to-access-the-azure-ad-groups-and-user-details-using-python\">django - How to access the Azure AD Groups and user details using python? - Stack Overflow</a></p>\n<p><a href=\"https://github.com/AzureAD/azure-activedirectory-library-for-python\" rel=\"nofollow noreferrer\">AzureAD/azure-activedirectory-library-for-python: ADAL for Python (github.com)</a></p>\n<p><a href=\"https://towardsdatascience.com/querying-microsoft-graph-api-with-python-269118e8180c\" rel=\"nofollow noreferrer\">Querying Microsoft Graph API with Python | by Ephraim Mwai | Towards Data Science</a></p>\n"}], "is_answered": true, "answer_count": 1, "last_activity_date": 1628595245, "question_id": 68646165, "title": "How to retrieve employee Id from Azure AD using Django?", "body": "<p><a href=\"https://i.stack.imgur.com/IriTg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IriTg.png\" alt=\"Image of employee id\" /></a></p>\n<p>I am trying to retrieve the Employee Id using Django as shown above. This platform is derived from Azure Active Directory. What are some of the parameters or ways to <strong>CALL</strong> the Employee ID?</p>\n"}