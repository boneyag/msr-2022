{"tags": ["python", "django", "rss", "atom-feed", "django-1.11"], "answers": [{"score": 1, "last_activity_date": 1589630678, "answer_id": 61836434, "question_id": 61637137, "body": "<p>I found the solution.\nI gave up the CDATA tag to follow this kind of structure :</p>\n\n<pre><code>def item_description(self, item):\n  return '&lt;figure&gt;&lt;img src=\"http://example.com/image.jpeg\" class=\"type:primaryImage\" /&gt;&lt;figcaption&gt;&lt;p&gt;My Image description&lt;/p&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;Some text&lt;/p&gt;'\n</code></pre>\n\n<p>I was helped by the Google manual : <a href=\"https://support.google.com/news/publisher-center/answer/9545420?hl=fr\" rel=\"nofollow noreferrer\">https://support.google.com/news/publisher-center/answer/9545420?hl=fr</a></p>\n"}], "is_answered": true, "answer_count": 1, "score": 0, "last_activity_date": 1589630678, "creation_date": 1588773644, "question_id": 61637137, "title": "Image missing in RSS/ATOM with Django", "body": "<p>I'm trying to attach an image to my ATOM and RSS syndication feed thanks to the Django's documentation : <a href=\"https://docs.djangoproject.com/fr/1.11/ref/contrib/syndication/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/fr/1.11/ref/contrib/syndication/</a></p>\n\n<p>I have to kind of feed : <a href=\"http://example.com/rss\" rel=\"nofollow noreferrer\">http://example.com/rss</a> and <a href=\"http://mywebsite.com/atom\" rel=\"nofollow noreferrer\">http://mywebsite.com/atom</a></p>\n\n<p><strong>rss.py</strong></p>\n\n<pre><code>class LatestEntriesFeed(Feed):\ntitle = \"MyWebsite\"\nlink = \"/\"\ndescription = \"Latest news\"\n\n\ndef items(self):\n    return Articles.objects.filter(published=True).order_by('-date')[:5]\n\ndef item_description(self, item):\n    return '&lt;![CDATA[ &lt;img src=\"http://example.com/image.jpeg\" /&gt; ]]&gt;'\n\ndef item_title(self, item):\n    return item.title\n\ndef item_pubdate(self, item):\n    return item.date\n\ndef item_updateddate(self, item):\n    return item.update\n\ndef item_author_name(self, item):\n    return item.author\n\ndef item_author_link(self, item):\n    item_author_link = Site_URL + reverse('team', kwargs={'username': item.author})\n    return item_author_link\n\ndef item_author_email(self):\n    return EMAIL_HOST_USER\n\nclass LatestEntriesFeedAtom(LatestEntriesFeed):\n    feed_type = Atom1Feed\n    subtitle = LatestEntriesFeed.description\n</code></pre>\n\n<p>So I think I have to use CDATA into the description html tag. However, in Django (version 1.11), item_description doesn't return <code>&lt;description&gt;</code> tag in the XML, but a <code>&lt;summary&gt;</code> tag.</p>\n\n<p>Is it fine or is it the source of the issue ?</p>\n\n<p>Otherwise, I tried to scan with W3C validator and I get 2 errors (or just warnings ?)</p>\n\n<p>1) Self reference doesn't match document location</p>\n\n<p>2) Invalid HTML: Expected '--' or 'DOCTYPE'. Not found. (5 occurrences)</p>\n"}