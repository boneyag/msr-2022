{"tags": ["php", "json", "facebook", "facebook-graph-api", "curl"], "answers": [{"comments": [{"score": 0, "creation_date": 1452268267, "post_id": 34680293, "comment_id": 57107430, "body": "Thank you, that worked by adding the message option. does the fields parameter not work with just one option?"}, {"score": 0, "creation_date": 1452274435, "post_id": 34680293, "comment_id": 57111638, "body": "No, of course it works with a single field, too. (Just assumed that probably you want more data than just the image.)"}, {"score": 0, "creation_date": 1452276571, "post_id": 34680293, "comment_id": 57112908, "body": "that&#39;s werid then, the fields thing was the first thing i found and tried but it didn&#39;t work before :-/"}], "score": 3, "last_activity_date": 1452266226, "answer_id": 34680293, "question_id": 34679599, "body": "<p>You can get that data in one request, by using the <a href=\"https://developers.facebook.com/docs/graph-api/using-graph-api/#fields\" rel=\"nofollow\"><code>fields</code></a> parameter:</p>\n\n<pre><code>/me/posts?fields=message,full_picture\n</code></pre>\n\n<p>(If you want more additional fields, you have to list them as well.)</p>\n"}], "is_answered": true, "answer_count": 1, "score": 1, "last_activity_date": 1452266226, "creation_date": 1452263997, "question_id": 34679599, "title": "PHP Facebook Graph API and full or larger size post images", "body": "<p>Did some searching but nothing is coming up or is old and doesn't work</p>\n\n<p>I'm using the graph api to get facebook posts and formatting them on my site, the URL/curl/json thing which is working; however, the picture returned defaults to the smallest 130x130 version. I added in a second json inside the foreach loop for each post to grab the larger image URL but this slows down the page load significantly.</p>\n\n<p>Is there a parameter for the posts that will grab the larger 720x720 image URl instead of the tiny one pulled by default. I tried the fields=full_picture used for the second (in loop) one but it doesn't work.</p>\n\n<p>Also tried using the file_get_contents() function instead of the cURL solution but there was no noticeable speed difference</p>\n\n<p>I also tried just doing a string replace to the picture data of the initial array but facebook adds those oh= and oe= tokens to their images URLs now so that trick doesn't work either.</p>\n\n<pre><code>$limit = 20;\n//App Info, needed for Auth\n$app_id = \"app id removed :)\";\n$app_secret = \"seceret code removed :)\";\n\n$url = 'https://graph.facebook.com/'.$profile_id.'/posts?limit='.$limit.'&amp;access_token='.$app_id.'|'.$app_secret;\n$ch = curl_init();\n$timeout = 5;\ncurl_setopt($ch, CURLOPT_URL, $url);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout);\n$data = curl_exec($ch);\n$json = json_decode($data, true);\n\nforeach($json[data] as $child) {\n    $thisDate = $child['created_time'];\n    $url='https://graph.facebook.com/' . $child['id'] . '?fields=full_picture&amp;access_token='.$app_id.'|'.$app_secret;\n    /*\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    $data = curl_exec($ch);\n    $pic = json_decode($data, true);\n    */\n    $pic = json_decode(file_get_contents($url),true);\n}\n\ncurl_close($ch);\n</code></pre>\n\n<p>This solution does work and provides the larger images but just slows down the page load due to the extra cURL call inside the loop.</p>\n\n<p>Thank you</p>\n"}