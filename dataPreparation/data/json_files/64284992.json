{"tags": ["python", "django", "heroku"], "comments": [{"score": 4, "creation_date": 1602266197, "post_id": 64284992, "comment_id": 113676708, "body": "We have  no idea <i>where</i> this error is happening.  Please post the full traceback error message."}, {"score": 0, "creation_date": 1602266666, "post_id": 64284992, "comment_id": 113676853, "body": "yes I have added it refresh the page"}, {"score": 2, "creation_date": 1602267108, "post_id": 64284992, "comment_id": 113677001, "body": "The line on which the error happens is certainly not line 18 in the file you provided, so you certainly are running a different version of the file."}, {"score": 0, "creation_date": 1602267679, "post_id": 64284992, "comment_id": 113677222, "body": "I updated the page again"}, {"score": 1, "creation_date": 1602267954, "post_id": 64284992, "comment_id": 113677318, "body": "You try to use <code>BASE_DIR</code> 3 lines before defining it, how can you expect it to be defined? Move the offending line below..."}, {"score": 0, "creation_date": 1602269215, "post_id": 64284992, "comment_id": 113677721, "body": "yes I placed them below and my iamges still arent showing on the website"}, {"score": 0, "creation_date": 1602310893, "post_id": 64284992, "comment_id": 113685857, "body": "Then this is a different problem and should be a different question."}], "answers": [{"comments": [{"score": 0, "creation_date": 1602268760, "post_id": 64285437, "comment_id": 113677581, "body": "I am already using whitenoise to serve my satic files"}, {"score": 0, "creation_date": 1602268875, "post_id": 64285437, "comment_id": 113677614, "body": "Now that you edited it haha it wasn&#39;t on there when I originally made the comment. Thanks for updating it."}, {"score": 0, "creation_date": 1602302570, "post_id": 64285437, "comment_id": 113684740, "body": "@lillymosling were you able to solve it? Accessing Static files in deployment can be a frustrating issue but usually it&#39;s pretty simple to fix."}, {"score": 0, "creation_date": 1602347067, "post_id": 64285437, "comment_id": 113694300, "body": "yes I did! but now I am having a new problem my images arent loading on my site"}, {"score": 0, "creation_date": 1602350245, "post_id": 64285437, "comment_id": 113695192, "body": "@lillymosling have you run <code>python manage.py collectstatic</code>? This is supposed to run when Heroku builds the program but I&#39;ve found that isn&#39;t always completely true."}], "score": -1, "last_activity_date": 1602267966, "answer_id": 64285437, "question_id": 64284992, "body": "<p>Because you are deploying on Heroku, you need to use something like <code>whitenoise</code> to serve your static files.</p>\n<p><a href=\"http://whitenoise.evans.io/en/stable/django.html\" rel=\"nofollow noreferrer\">http://whitenoise.evans.io/en/stable/django.html</a></p>\n<p>Also: don't post your secret key on the internet.</p>\n<p>Edited to add, it's worth also using something like <a href=\"https://github.com/pkrefta/django-on-heroku\" rel=\"nofollow noreferrer\">https://github.com/pkrefta/django-on-heroku</a> when deploying to Heroku.</p>\n"}, {"comments": [{"score": 0, "creation_date": 1628248139, "post_id": 68675979, "comment_id": 121375839, "body": "They have already done that, as you can see in the code posted. Additionally, failing to do that wouldn&#39;t result in the error shown."}], "score": -2, "last_activity_date": 1628222481, "answer_id": 68675979, "question_id": 64284992, "body": "<p>you must try to import function os from python library to django on setting.py</p>\n"}], "is_answered": true, "answer_count": 2, "score": -2, "last_activity_date": 1628222481, "creation_date": 1602265972, "question_id": 64284992, "title": "NameError: Python name &#39;BASE_DIR&#39; is not defined How To Fix?", "body": "<p>I am trying to deploy my website and the images wont load because I am having this error\n<em><strong>this is causing my images not to load on my website any help is appreciated thank you!</strong></em></p>\n<pre><code>2020-10-09T18:19:09.937117+00:00 app[web.1]: File &quot;/app/mysite/settings.py&quot;, line 20, in &lt;module&gt;\n2020-10-09T18:19:09.937117+00:00 app[web.1]: STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')\n2020-10-09T18:19:09.937126+00:00 app[web.1]: NameError: name 'BASE_DIR' is not defined\n\n</code></pre>\n<p>my settings.py</p>\n<pre><code>&quot;&quot;&quot;\nDjango settings for mysite project.\nGenerated by 'django-admin startproject' using Django 3.1.1.\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/3.1/topics/settings/\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/3.1/ref/settings/\n&quot;&quot;&quot;\nimport os\n\n\nfrom pathlib import Path\n\n\n# Build paths inside the project like this: BASE_DIR / 'subdir'.\nBASE_DIR = Path(__file__).resolve().parent.parent\n\n\n\nSTATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')\n\n\nSTATIC_URL = '/static/'\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/3.1/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = 'a49c&amp;2is^-d$y8ycdycbenh*@dm3$3phszrs_72c*fh-ti1449'\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = False # remember to change to false\n\nALLOWED_HOSTS = ['anim3-domain.herokuapp.com']\n# 'https://anime-domain.herokuapp.com/'\n\n# Application definition\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'main.apps.MainConfig',\n]\n\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'whitenoise.middleware.WhiteNoiseMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n\nROOT_URLCONF = 'mysite.urls'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'mysite.wsgi.application'\n\n\n# Database\n# https://docs.djangoproject.com/en/3.1/ref/settings/#databases\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': BASE_DIR / 'db.sqlite3',\n    }\n}\n\n\n# Password validation\n# https://docs.djangoproject.com/en/3.1/ref/settings/#auth-password-validators\n\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\n    },\n]\n\n\n# Internationalization\n# https://docs.djangoproject.com/en/3.1/topics/i18n/\n\nLANGUAGE_CODE = 'en-us'\n\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/3.1/howto/static-files/\n\n\n\nSTATICFILES_DIRS = [\n    os.path.join(BASE_DIR, &quot;static&quot;),\n]\n</code></pre>\n<p>am i missing something? could you explain how I can fix it Thank You! I am not sure  if I am forgetting to import something or do I have to define the <code>BASE_DIR</code> if so how would I define it? and what do I need to import</p>\n<p>my folders</p>\n<p><a href=\"https://i.stack.imgur.com/9FBoT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}