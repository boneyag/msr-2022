{"tags": ["mysql", "django"], "answers": [{"score": 1, "last_activity_date": 1539157799, "answer_id": 52735207, "question_id": 52734985, "body": "<p>you can use values_list method</p>\n\n<pre><code>PhoneTests.objects.all().values_list('data__mOfficerCode').distinct()\n</code></pre>\n"}], "is_answered": true, "answer_count": 1, "score": 0, "last_activity_date": 1539157799, "creation_date": 1539157010, "question_id": 52734985, "title": "select distinct values from JSON using django-mysql", "body": "<p>I'm using <a href=\"https://django-mysql.readthedocs.io/en/latest/model_fields/json_field.html\" rel=\"nofollow noreferrer\">this</a> library and my model looks like this:</p>\n\n<pre><code>class PhoneTest(Model):\n    data = JSONField()\n</code></pre>\n\n<p>My JSON obj looks something like this (in a real obj there are way more fields):</p>\n\n<p>{\n    \"deviceStatus\": true,\n    \"officerCode\": 123456,\n    \"imei\": 123456789123456\n}</p>\n\n<p>For instance, I want to get a list of all officerCodes. How do I do that ? All I've tried so far has not worked. For example this did not:</p>\n\n<pre><code>tests = PhoneTests.objects.all()\ntests.distinct('data__mOfficerCode')\n</code></pre>\n\n<p>It gives me the following error:</p>\n\n<pre><code>NotSupportedError: DISTINCT ON fields is not supported by this database backend\n</code></pre>\n\n<p>But it's because I'm using this new library, not the native django mysql backend. What are possible workarounds?</p>\n\n<p>I would greatly appreciate any help.</p>\n"}